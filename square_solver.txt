IN
POP AX
IN
POP BX
IN
POP CX

PUSH AX
PUSH CX
PUSH 4
MUL 
MUL
PUSH BX
PUSH BX
MUL
SUB
POP DX

PUSH 0
PUSH AX
JE LINE_EQ

PUSH 0
PUSH DX
JE ONE_ROOT

PUSH 0
PUSH DX
JA TWO_ROOTS

PUSH 0
OUT

HLT

ONE_ROOT:

PUSH 1
OUT 

PUSH 2
PUSH AX
MUL
PUSH -1
PUSH BX
MUL
DIV
OUT

HLT

TWO_ROOTS:

PUSH 2
OUT

PUSH DX
SQRT
POP DX

PUSH 2
PUSH AX
MUL

PUSH DX
PUSH BX
PUSH -1
MUL
ADD

DIV

OUT

PUSH 2
PUSH AX
MUL

PUSH DX
PUSH BX
PUSH -1
MUL
SUB

DIV

OUT

HLT

LINE_EQ:

PUSH 0
PUSH BX
JE INF_NUL

PUSH 1
OUT

PUSH BX
PUSH CX
PUSH -1
MUL
DIV
OUT

HLT

INF_NUL:

PUSH 0
PUSH CX
JE INF_ROOTS

PUSH 0
OUT
HLT

INF_ROOTS:

PUSH 6666
OUT
HLT